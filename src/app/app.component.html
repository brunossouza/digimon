<div>
  <app-header></app-header>
  <main class="container-fluid">
    <div class="row">
      <form [formGroup]="form">
        <p-iconField iconPosition="left">
          <p-inputIcon styleClass="pi pi-search" />
          <input
            type="text"
            pInputText
            placeholder="Entre com o nome de um Digimon"
            formControlName="search"
          />
        </p-iconField>
      </form>
    </div>
    <div class="row">
      <div class="col-12">
        <p-table
          [value]="digimons?.content ?? []"
          [paginator]="true"
          [rows]="10"
          [rowsPerPageOptions]="[5, 10, 20]"
          [loading]="loading"
        >
          <ng-template pTemplate="header">
            <tr>
              <th scope="col">Imagem</th>
              <th scope="col">Id</th>
              <th scope="col">Nome</th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-digimon>
            <tr>
              <td>
                <img
                  [src]="digimon.image"
                  [alt]="digimon.name"
                  width="50"
                  class="shadow-4"
                />
              </td>
              <td>{{ digimon.id }}</td>
              <td>{{ digimon.name }}</td>
            </tr>
          </ng-template>
        </p-table>
      </div>
    </div>
  </main>
</div>
